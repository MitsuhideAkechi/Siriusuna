# 腐蚀
通常对二值图片进行腐蚀操作
```python
kernel = np.ones((3, 3), np.uint8) # 定义核
erosion = cv2.erode(img, kernel, iteratoons= )
```
去毛刺、使线条变细
![](IMG-20251210185600400.png)
![](IMG-20251210185600421.png)

# 膨胀
腐蚀的逆运算

例子：腐蚀去掉毛刺了，但是让图片线条变细了，这时候再膨胀图片
```python
kernel = np.ones((30, 30), np.uint8)
dilation = cv2.dilate(img, kernel, iterations= )
```
![](IMG-20251210185600534.png)

# 运算
## 开运算：先腐蚀再膨胀
```python
kernel = np.ones((3, 3), np.uint8)
opening = cv2.morphologyEx(img, cv2.MORPH_OPEN, kernel)
```
E.g. 去毛刺
## 闭运算：先膨胀再腐蚀
```python
kernel = np.ones((3, 3), np.uint8)
closing = cv2.morphologyEx(img, cv2.MORPH_CLOSE, kernel)
```
E.g. 补全空缺
## 梯度运算：膨胀-腐蚀
```python
kernel = np.ones((3, 3), np.uint8)
gradient = cv2.morphologyEx(img, cv2.MORPH_GRADIENT, kernel)
```
![](IMG-20251210185600555.png)

## 礼帽与黑帽
### 礼帽：原始输入-开运算
```python
tophat = cv2.morphologyEx(img, cv2.MORPH_TOPHAT, kernel)
```
剩下毛刺
![](IMG-20251210185600578.png)
### 黑帽：闭运算-原始输入
```python
blackhat = cv2.morphologyEx(img, cv2.MORPH_BLACKHAT, kernel)
```
剩下原始轮廓
![](IMG-20251210185600692.png)
